Modules | Directives | FAQ | Glossary | Sitemap
Apache HTTP Server Version 2.4


Apache > HTTP Server > Documentation > Version 2.4 > Modules

Apache Module mod_proxy_fcgi
Description:
FastCGI support module for mod_proxy
Status:
Extension
Module Identifier:
proxy_fcgi_module
Source File:
mod_proxy_fcgi.c
Compatibility:
Available in version 2.3 and later
Summary
This module requires the service of mod_proxy. It provides support for the FastCGI protocol.
Thus, in order to get the ability of handling the FastCGI protocol, mod_proxy and mod_proxy_fcgi have to be present in the server.
Unlike mod_fcgid and mod_fastcgi, mod_proxy_fcgi has no provision for starting the application process; fcgistarter is provided (on some platforms) for that purpose. Alternatively, external launching or process management may be available in the FastCGI application framework in use.
Warning
Do not enable proxying until you have secured your server. Open proxy servers are dangerous both to your network and to the Internet at large.
Directives
This module provides no directives.
Topics
 Examples 
 Environment Variables 
See also
fcgistarter 
mod_proxy 

Examples
Remember, in order to make the following examples work, you have to enable mod_proxy and mod_proxy_fcgi.
Single application instance
ProxyPass /myapp/ fcgi://localhost:4000/
This application should be able to handle multiple concurrent connections. mod_proxy enables connection reuse by default, so after a request has been completed the connection will be held open by that httpd child process and won't be reused until that httpd process routes another request to the application. If the FastCGI application is unable to handle enough concurrent connections from httpd, requests can block waiting for the application to close an existing connection. One way to resolve this is to disable connection reuse on the ProxyPass directive, as shown in the following example:
Single application instance, no connection reuse
ProxyPass /myapp/ fcgi://localhost:4000/ disablereuse=on
The balanced gateway needs mod_proxy_balancer and at least one load balancer algorithm module, such as mod_lbmethod_byrequests, in addition to the proxy modules listed above. mod_lbmethod_byrequests is the default, and will be used for this example configuration.
Balanced gateway to multiple application instances
ProxyPass /myapp/ balancer://myappcluster/
<Proxy balancer://myappcluster/>
    BalancerMember fcgi://localhost:4000
    BalancerMember fcgi://localhost:4001
</Proxy>

Environment Variables
In addition to the configuration directives that control the behaviour of mod_proxy, there are a number of environment variables that control the FCGI protocol provider:
proxy-fcgi-pathinfo 
By default mod_proxy_fcgi will neither create nor export the PATH_INFO environment variable. This allows the backend FCGI server to correctly determine SCRIPT_NAME and Script-URI and be compliant with RFC 3875 section 3.3. If instead you need mod_proxy_fcgi to generate a "best guess" for PATH_INFO, set this env-var. This is a workaround for a bug in some FCGI implementations. 
Copyright 2014 The Apache Software Foundation.
Licensed under the Apache License, Version 2.0.
Modules | Directives | FAQ | Glossary | Sitemap

